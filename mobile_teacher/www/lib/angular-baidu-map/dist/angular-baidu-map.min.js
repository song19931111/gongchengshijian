!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],n);else{var t=n("object"==typeof exports?require("angular"):e.angular);for(var i in t)("object"==typeof exports?exports:e)[i]=t[i]}}(this,function(e){return function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=12)}([function(e,n,t){"use strict";function i(e,n){if(o(e))throw new Error(n)}function o(e){return null===e||void 0===e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){if(l.indexOf((e||"").toLowerCase())<0)throw new Error("control type should be one of: ["+l.join(",")+"]")}function u(e){if(c.indexOf((e||"").toLowerCase())<0)throw new Error("overlay type should be one of: ["+c.join(",")+"]")}n.d=i,n.e=o,n.c=r,n.b=a,n.a=u;var l=["navigation","overviewmap","scale","maptype","copyright","geolocation","panorama"],c=["heatmap"]},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=arguments.length,i=Array(t>2?t-2:0),o=2;o<t;o++)i[o-2]=arguments[o];return new Promise(function(t){e[n].apply(e,i),t()})}var r=t(13),a=t(10),u=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();n.a={bindings:{offlineTxt:"<",mapOptions:"<",loaded:"&",click:"&"},transclude:!0,template:'\n        <div ng-style="$ctrl.style.map" class="baidu-map-instance"></div>\n        <div ng-style="$ctrl.style.offline" class="baidu-map-offline">\n            <label ng-style="$ctrl.style.offlineLabel">{{ $ctrl.offlineTxt || \'NO_NETWORK\' }}</label>\n        </div>\n        <div ng-transclude style="display: none"></div>\n    ',controller:function(){function e(n,t,o,a){i(this,e),this.$scope=n,this.$element=t,this.$attrs=o,this.style=r,this.mapScriptService=a}return e.$inject=["$scope","$element","$attrs","mapScriptService"],u(e,[{key:"$onInit",value:function(){var e=this;this.mapReady=this.mapScriptService.load().then(function(){return t.i(a.a)(e.$element.children()[0],e.mapOptions)}).then(function(n){return e.loaded({map:n}),e.$scope.$apply(),e.map=n}).then(function(){if(e.$attrs.click){var n=e.clickListener=function(n){e.click({e:n})};e.map.addEventListener("click",n)}})}},{key:"$onChanges",value:function(e){this.map&&t.i(a.b)(this.map,e.mapOptions.currentValue)}},{key:"$onDestroy",value:function(){this.map.removeEventListener("click",this.clickListener)}},{key:"addOverlay",value:function(e){return o(this.map,"addOverlay",e)}},{key:"removeOverlay",value:function(e){return o(this.map,"removeOverlay",e)}},{key:"addControl",value:function(e){return o(this.map,"addControl",e)}},{key:"removeControl",value:function(e){return o(this.map,"removeControl",e)}},{key:"getMap",value:function(){return this.map}}]),e}()}},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if("navigation"===e)return new BMap.NavigationControl(n);if("overviewmap"===e)return new BMap.OverviewMapControl(n);if("scale"===e)return new BMap.ScaleControl(n);if("maptype"===e)return new BMap.MapTypeControl(n);if("copyright"===e){var i=new BMap.CopyrightControl(n);return t.i(r.c)(n.copyrights)&&n.copyrights.forEach(function(e){i.addCopyright(e)}),i}return"geolocation"===e?new BMap.GeolocationControl(n):"panorama"===e?new BMap.PanoramaControl(n):void 0}var r=t(0),a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();n.a={bindings:{type:"@",options:"<"},require:{mapCtrl:"^baiduMap"},template:"",controller:function(){function e(){i(this,e)}return a(e,[{key:"$onInit",value:function(){var e=this;t.i(r.b)(this.type),this.mapCtrl.mapReady.then(function(){return o(e.type.toLowerCase(),e.options)}).then(function(n){return e.mapCtrl.addControl(n),e.control=n,n})}},{key:"$onDestroy",value:function(){this.mapCtrl.removeControl(this.control)}}]),e}()}},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e){var n=JSON.parse(JSON.stringify(e||{}));return n.offset&&(n.offset=t.i(a.b)(n.offset,"<marker> options.offset")),n.icon&&(n.icon=t.i(a.c)(n.icon,"<marker> options.icon")),n.shadow&&(n.shadow=t.i(a.c)(n.shadow,"<marker> options.shadow")),n}var r=t(0),a=t(11),u=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();n.a={bindings:{point:"<",options:"<",click:"&"},require:{mapCtrl:"^baiduMap"},template:"",controller:function(){function e(n,t){i(this,e),this.$scope=n,this.$attrs=t}return e.$inject=["$scope","$attrs"],u(e,[{key:"$onInit",value:function(){var e=this;t.i(r.d)(this.point,"point is required for <marker>"),this.mapCtrl.mapReady.then(function(){var n=t.i(a.a)(e.point,"<marker> point"),i=o(e.options),r=e.marker=new BMap.Marker(n,i);return e.mapCtrl.addOverlay(r),r}).then(function(n){e.$attrs.click&&(e.clickHandler=function(t){e.click({e:t,marker:n,map:e.mapCtrl.getMap()}),e.$scope.$apply()},n.addEventListener("click",e.clickHandler))})}},{key:"$onDestroy",value:function(){this.marker.removeEventListener("click",this.clickHandler),this.mapCtrl.removeOverlay(this.marker)}}]),e}()}},function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if("heatmap"===e)return t.i(u.a)(n)}function r(e,n,t){"heatmap"===e&&t&&n.setDataSet(t)}var a=t(0),u=t(8),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();n.a={bindings:{type:"@",options:"<",dataset:"<"},require:{mapCtrl:"^baiduMap"},template:"",controller:function(){function e(){i(this,e)}return l(e,[{key:"$onInit",value:function(){var e=this;t.i(a.a)(this.type),this.realType=this.type.toLowerCase(),this.mapCtrl.mapReady.then(function(){return o(e.realType,e.options)}).then(function(n){return e.mapCtrl.addOverlay(n),e.overlay=n,r(e.realType,e.overlay,e.dataset),n})}},{key:"$onChanges",value:function(e){e.dataset&&e.dataset.currentValue&&r(this.realType,this.overlay,e.dataset.currentValue)}},{key:"$onDestroy",value:function(){this.mapCtrl.removeOverlay(this.overlay)}}]),e}()}},function(e,n,t){"use strict";function i(){window.BMAP_ANCHOR_TOP_LEFT=0,window.BMAP_ANCHOR_TOP_RIGHT=1,window.BMAP_ANCHOR_BOTTOM_LEFT=2,window.BMAP_ANCHOR_BOTTOM_RIGHT=3,window.BMAP_NAVIGATION_CONTROL_LARGE=0,window.BMAP_NAVIGATION_CONTROL_SMALL=1,window.BMAP_NAVIGATION_CONTROL_PAN=2,window.BMAP_NAVIGATION_CONTROL_ZOOM=3,window.BMAP_UNIT_METRIC="metric",window.BMAP_UNIT_IMPERIAL="us",window.BMAP_MAPTYPE_CONTROL_HORIZONTAL=0,window.BMAP_MAPTYPE_CONTROL_DROPDOWN=1,window.BMAP_MAPTYPE_CONTROL_MAP=2,window.BMAP_ANIMATION_DROP=1,window.BMAP_ANIMATION_BOUNCE=2,window.BMAP_POINT_SIZE_TINY=1,window.BMAP_POINT_SIZE_SMALLER=2,window.BMAP_POINT_SIZE_SMALL=3,window.BMAP_POINT_SIZE_NORMAL=4,window.BMAP_POINT_SIZE_BIG=5,window.BMAP_POINT_SIZE_BIGGER=6,window.BMAP_POINT_SIZE_HUGE=7,window.BMAP_PANORAMA_INDOOR_SCENE="inter",window.BMAP_PANORAMA_STREET_SCENE="street",window.BMAP_PANORAMA_POI_HOTEL="hotel",window.BMAP_PANORAMA_POI_CATERING="catering",window.BMAP_PANORAMA_POI_MOVIE="movie",window.BMAP_PANORAMA_POI_TRANSIT="transit",window.BMAP_PANORAMA_POI_INDOOR_SCENE="indoor_scene",window.BMAP_PANORAMA_POI_NONE="none"}n.a=i},function(e,n,t){"use strict";function i(e){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onerror=function(){Array.prototype.slice.call(document.querySelectorAll("baidu-map .baidu-map-offline")).forEach(function(e){e.style.display="block"}),document.body.removeChild(n),setTimeout(function(){i(e)},3e4)},document.body.appendChild(n)}function o(){return Array.prototype.slice.call(document.querySelectorAll("baidu-map")).forEach(function(e){e.querySelector(".baidu-map-offline")&&e.removeChild(e.querySelector(".baidu-map-offline")),e.querySelector(".baidu-map-instance").style.display="block"})}var r=t(0);n.a=function(){var e=null,n=void 0;this.setKey=function(t){e=t,n="//api.map.baidu.com/api?v=2.0&ak="+e+"&callback=baidumapinit&s="+("https:"===location.protocol?1:0)},this.$get=["$rootScope",function(a){"ngInject";return{load:function(){t.i(r.d)(e,"ak should be set before use. Read: https://leftstick.github.io/BaiduMapForAngularJS/#!/quickstart");var u=a.loadBaiduMapPromise;return u?u.then(o):a.loadBaiduMapPromise=new Promise(function(e,t){window.baidumapinit=e,i(n)}).then(o)}}}]}},function(n,t){n.exports=e},function(e,n,t){"use strict";function i(e){return t.i(o.a)().then(function(){return new BMapLib.HeatmapOverlay(e)})}n.a=i;var o=t(9)},function(e,n,t){"use strict";function i(e){return new Promise(function(n,t){var o=document.createElement("script");o.type="text/javascript",o.src=e,o.onerror=function(){document.body.removeChild(o),setTimeout(function(){i(e)},3e4)},o.onload=n,document.body.appendChild(o)})}n.a=function(){var e=window.loadHeatMapPromise;return e||(window.loadHeatMapPromise=i("//api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"))}},function(e,n,t){"use strict";function i(e,n){var t=new BMap.Map(e,n);return o(t,n),t}function o(e,n){t.i(r.e)(n)||t.i(r.e)(n.disableDragging)||e[(n.disableDragging?"disable":"enable")+"Dragging"](),t.i(r.e)(n)||t.i(r.e)(n.enableScrollWheelZoom)||e[(n.enableScrollWheelZoom?"enable":"disable")+"ScrollWheelZoom"](),t.i(r.e)(n)||t.i(r.e)(n.disableDoubleClickZoom)||e[(n.disableDoubleClickZoom?"disable":"enable")+"DoubleClickZoom"](),t.i(r.e)(n)||t.i(r.e)(n.enableKeyboard)||e[(n.enableKeyboard?"enable":"disable")+"Keyboard"](),t.i(r.e)(n)||t.i(r.e)(n.enableInertialDragging)||e[(n.enableInertialDragging?"enable":"disable")+"InertialDragging"](),t.i(r.e)(n)||t.i(r.e)(n.enableContinuousZoom)||e[(n.enableContinuousZoom?"enable":"disable")+"ContinuousZoom"](),t.i(r.e)(n)||t.i(r.e)(n.disablePinchToZoom)||e[(n.disablePinchToZoom?"disable":"enable")+"PinchToZoom"](),!t.i(r.e)(n)&&!t.i(r.e)(n.cursor)&&e.setDefaultCursor(n.cursor),!t.i(r.e)(n)&&!t.i(r.e)(n.draggingCursor)&&e.setDraggingCursor(n.draggingCursor),!t.i(r.e)(n)&&!t.i(r.e)(n.currentCity)&&e.setCurrentCity(n.currentCity),!t.i(r.e)(n)&&!t.i(r.e)(n.centerAndZoom)&&e.centerAndZoom(new BMap.Point(n.centerAndZoom.longitude||a.longitude,n.centerAndZoom.latitude||a.latitude),n.centerAndZoom.zoom||u)}n.a=i,n.b=o;var r=t(0),a={longitude:121.506191,latitude:31.245554},u=10},function(e,n,t){"use strict";function i(e,n){var i={url:e.url};return t.i(a.d)(e.url,"url is required in "+n),t.i(a.d)(e.size,"size is required in "+n),i.size=o(e.size,n+".size"),new BMap.Icon(i.url,i.size)}function o(e,n){return t.i(a.d)(e.width,"width is required in "+n),t.i(a.d)(e.height,"height is required in "+n),new BMap.Size(e.width,e.height)}function r(e,n){return t.i(a.d)(e.longitude,"longitude is required in "+n),t.i(a.d)(e.latitude,"latitude is required in "+n),new BMap.Point(e.longitude,e.latitude)}n.c=i,n.b=o,n.a=r;var a=t(0)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"ngBaiduMap",function(){return d});var i=t(7),o=t.n(i),r=t(1),a=t(3),u=t(2),l=t(4),c=t(6),s=t(5);t.i(s.a)();o.a.module("baiduMap",[]).provider("mapScriptService",c.a).component("baiduMap",r.a).component("marker",a.a).component("control",u.a).component("overlay",l.a);var d="baiduMap"},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"map",function(){return i}),t.d(n,"offline",function(){return o}),t.d(n,"offlineLabel",function(){return r});var i={width:"100%",height:"100%",display:"none"},o={width:"100%",height:"100%",backgroundColor:"#E6E6E6",position:"relative",display:"none"},r={fontSize:"30px",margin:0,position:"absolute",top:"50%",left:"50%","margin-right":"-50%",transform:"translate(-50%, -50%)"}}])});